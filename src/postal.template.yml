web:
  host: ${WEB_HOST:-postal.example.com}
  protocol: ${WEB_PROTOCOL:-https}
  
web_server:
  bind_address: ${WEB_SERVER_BIND_ADDRESS:-127.0.0.1}
  port: ${WEB_SERVER_PORT:-5000}
  max_threads: ${WEB_SERVER_MAX_THREADS:-5}

fast_server:
  enabled: ${FAST_SERVER_ENABLED:-false}
  bind_address: ${FAST_SERVER_BIND_ADDRESS:-127.0.0.1}
  port: ${FAST_SERVER_PORT:-80}
  ssl_port: ${FAST_SERVER_SSL_PORT:-443}
  proxy_protocol: ${FAST_SERVER_PROXY_PROTOCOL:-false}
  default_private_key_path: # Defaults to config/fast_server.key
  default_tls_certificate_path: # Defaults to config/fast_server.cert

general:
  use_ip_pools: ${GENERAL_USE_IP_POOLS:-false}
  
logging:
  stdout: ${LOGGING_STDOUT:-true}
  root: # Automatically determined based on config root
  max_log_file_size: ${LOGGING_MAX_LOG_FILE_SIZE:-10}
  max_log_files: ${LOGGING_MAX_LOG_FILES:-10}
    
main_db:
  host: ${MAIN_DB_HOST:-127.0.0.1}
  port: ${MAIN_DB_PORT:-3306}
  username: ${MAIN_DB_USERNAME:-postal}
  password: ${MAIN_DB_PASSWORD:-p0stalpassw0rd}
  database: ${MAIN_DB_DATABASE:-postal}

message_db:
  host: ${MESSAGE_DB_HOST:-127.0.0.1}
  port: ${MESSAGE_DB_PORT:-3306}
  username: ${MESSAGE_DB_USERNAME:-postal}
  password: ${MESSAGE_DB_PASSWORD:-p0stalpassw0rd}
  prefix: ${MESSAGE_DB_PERFIX:-postal}

rabbitmq:
  host: ${RABBITMQ_HOST:-127.0.0.1}
  port: ${RABBITMQ_PORT:-5672}
  username: ${RABBITMQ_USERNAME:-rabbitmq}
  password: ${RABBITMQ_PASSWORD:-p0stalpassw0rd}
  vhost: ${RABBITMQ_VHOST:-/postal}

dns:
  mx_records:
    - ${dns.mx_records:-mx.postal.example.com}
  smtp_server_hostname: ${dns.smtp_server_hostname:-postal.example.com}
  spf_include: ${dns.spf_include:-spf.postal.example.com}
  return_path: ${dns.return_path:-rp.postal.example.com}
  route_domain: ${dns.route_domain:-routes.postal.example.com}
  track_domain: ${dns.track_domain:-track.postal.example.com}

smtp:
  host: ${smtp.host:-127.0.0.1}
  port: ${smtp.port:-2525}
  username: # Complete when Postal is running and you can
  password: # generate the credentials within the interface.
  from_name: ${smtp.from_name:-Postal}
  from_address: ${smtp.from_address:-postal@yourdomain.com}
  tls_enabled: false
  tls_certificate_path: # Defaults to config/smtp.cert
  tls_private_key_path: # Defaults to config/smtp.key
  tls_ciphers:
  ssl_version: SSLv23
  proxy_protocol: false
  log_connect: true
  strip_received_headers: false
  max_message_size: 14 # size in Megabytes

rails:
  secret_key: ${RAILS_SECRET_KEY:-$(openssl rand -base64 32)}

spamd:
  enabled: ${SPAMD_ENABLED-false}
  host: ${SPAMD_HOST:-127.0.0.1}
  port: ${SPAMD_PORT:-783}

clamav:
  enabled: ${CLAMAV_ENABLED:-false}
  host: ${CLAMAV_HOST:-127.0.0.1}
  port: ${CLAMAV_PORT:-2000}
